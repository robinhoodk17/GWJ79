[gd_scene load_steps=36 format=3 uid="uid://cm284gwx7qpyt"]

[ext_resource type="Script" uid="uid://dqih6i2t5n4pe" path="res://scripts/enable_guide.gd" id="1_mqemg"]
[ext_resource type="Resource" uid="uid://v5u0dyabni7e" path="res://input/default_mapping_context.tres" id="2_y1ygp"]
[ext_resource type="PackedScene" uid="uid://dom2bq6x7abkr" path="res://scenes/player/player.tscn" id="3_xcm3i"]
[ext_resource type="Script" uid="uid://ek8xpatk0abp" path="res://scripts/terrain/bar_spot.gd" id="4_0mpi7"]
[ext_resource type="Material" uid="uid://dswa7nxvhoswc" path="res://scenes/particles/Sunlight.tres" id="5_0rf43"]
[ext_resource type="Material" uid="uid://c605ge3qhov13" path="res://scenes/particles/Water.tres" id="6_h8t5e"]
[ext_resource type="Material" uid="uid://bfjbavkupu4b5" path="res://scenes/particles/Sleep.tres" id="7_olwnp"]
[ext_resource type="Script" uid="uid://dj3oo25bv4g2m" path="res://scripts/terrain/farm_house.gd" id="8_i3jkc"]
[ext_resource type="Script" uid="uid://62tsf251s8sj" path="res://scripts/farm/plant_pickup.gd" id="9_t21en"]
[ext_resource type="PackedScene" uid="uid://3ch4cewd4fr5" path="res://assets/3d/Leaf Bed.blend" id="10_cgwd4"]
[ext_resource type="PackedScene" uid="uid://cxx38lw6y1dt6" path="res://assets/3d/Tree.blend" id="11_x7gld"]
[ext_resource type="PackedScene" uid="uid://ch8gse74drulk" path="res://scenes/enemies/small_kaiju.tscn" id="12_h5v8l"]
[ext_resource type="Script" uid="uid://cxhiheuo0y8e5" path="res://scripts/killbox.gd" id="13_60fbq"]
[ext_resource type="PackedScene" uid="uid://cp8g1km0wbohh" path="res://scenes/terrain/terrain_events/area_3d.tscn" id="14_y1ygp"]
[ext_resource type="PackedScene" uid="uid://djr1wp2hgfg1s" path="res://scenes/terrain/seed.tscn" id="15_xcm3i"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_0ssrf"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_2e8v6"]
sky_material = SubResource("ProceduralSkyMaterial_0ssrf")

[sub_resource type="Environment" id="Environment_357dt"]
background_mode = 2
sky = SubResource("Sky_2e8v6")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="CylinderShape3D" id="CylinderShape3D_0ssrf"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nof2k"]
vertex_color_use_as_albedo = true
metallic_specular = 1.0
emission_enabled = true

[sub_resource type="SphereMesh" id="SphereMesh_t4p7o"]
material = SubResource("StandardMaterial3D_nof2k")

[sub_resource type="CylinderMesh" id="CylinderMesh_t6k5e"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jkod3"]
vertex_color_use_as_albedo = true
albedo_color = Color(1, 0.34902, 0.152941, 1)

[sub_resource type="BoxMesh" id="BoxMesh_t6k5e"]
material = SubResource("StandardMaterial3D_jkod3")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8oh8j"]
vertex_color_use_as_albedo = true
albedo_color = Color(1, 0.737255, 0.117647, 1)

[sub_resource type="PrismMesh" id="PrismMesh_jkod3"]
material = SubResource("StandardMaterial3D_8oh8j")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_niauf"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_jkod3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8oh8j"]

[sub_resource type="NavigationMesh" id="NavigationMesh_1ldu7"]
vertices = PackedVector3Array(-12.5, 1, -201.919, -12.5, 1, 14.0814, 12.5, 1, 14.0814, 12.5, 1, -201.919)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t6k5e"]
vertex_color_use_as_albedo = true
albedo_color = Color(0.134541, 0.484405, 9.62615e-07, 1)

[sub_resource type="BoxMesh" id="BoxMesh_0ssrf"]
material = SubResource("StandardMaterial3D_t6k5e")

[sub_resource type="BoxShape3D" id="BoxShape3D_2e8v6"]
size = Vector3(26, 1, 217)

[sub_resource type="BoxShape3D" id="BoxShape3D_tnacl"]
size = Vector3(26, 1, 217)

[sub_resource type="BoxShape3D" id="BoxShape3D_xcm3i"]
size = Vector3(25, 5, 29.186)

[node name="Main Path" type="Node3D"]
script = ExtResource("1_mqemg")
default_mapping_context = ExtResource("2_y1ygp")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_357dt")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
light_color = Color(0.683077, 0.683077, 0.683077, 1)
shadow_enabled = true

[node name="Player" parent="." groups=["player"] instance=ExtResource("3_xcm3i")]

[node name="Bar Spot 1" type="Area3D" parent="."]
transform = Transform3D(3.235, 0, 0, 0, 1, 0, 0, 0, 3.215, 8.81472, 0, 0)
script = ExtResource("4_0mpi7")
light_particles = ExtResource("5_0rf43")
water_particles = ExtResource("6_h8t5e")
sleep_particles = ExtResource("7_olwnp")
Particles = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bar Spot 1"]
shape = SubResource("CylinderShape3D_0ssrf")

[node name="GPUParticles3D" type="GPUParticles3D" parent="Bar Spot 1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.585545, 0)
amount = 5
lifetime = 2.0
preprocess = 0.3
speed_scale = 0.8
explosiveness = 0.5
randomness = 1.0
fixed_fps = 10
process_material = ExtResource("5_0rf43")
draw_pass_1 = SubResource("SphereMesh_t4p7o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Bar Spot 1"]
mesh = SubResource("CylinderMesh_t6k5e")

[node name="Bar Spot 2" type="Area3D" parent="."]
transform = Transform3D(3.235, 0, 0, 0, 1, 0, 0, 0, 3.215, -8.27684, 0, -41.0518)
script = ExtResource("4_0mpi7")
light_particles = ExtResource("5_0rf43")
water_particles = ExtResource("6_h8t5e")
sleep_particles = ExtResource("7_olwnp")
Particles = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bar Spot 2"]
shape = SubResource("CylinderShape3D_0ssrf")

[node name="GPUParticles3D" type="GPUParticles3D" parent="Bar Spot 2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.585545, 0)
amount = 5
lifetime = 2.0
preprocess = 0.3
speed_scale = 0.8
explosiveness = 0.5
randomness = 1.0
fixed_fps = 10
process_material = ExtResource("7_olwnp")
draw_pass_1 = SubResource("SphereMesh_t4p7o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Bar Spot 2"]
mesh = SubResource("CylinderMesh_t6k5e")

[node name="Bar Spot 3" type="Area3D" parent="."]
transform = Transform3D(3.235, 0, 0, 0, 1, 0, 0, 0, 3.215, 8.81472, 0, -118.61)
script = ExtResource("4_0mpi7")
light_particles = ExtResource("5_0rf43")
water_particles = ExtResource("6_h8t5e")
sleep_particles = ExtResource("7_olwnp")
Particles = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bar Spot 3"]
shape = SubResource("CylinderShape3D_0ssrf")

[node name="GPUParticles3D" type="GPUParticles3D" parent="Bar Spot 3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.585545, 0)
amount = 5
lifetime = 2.0
preprocess = 0.3
speed_scale = 0.8
explosiveness = 0.5
randomness = 1.0
fixed_fps = 10
process_material = ExtResource("7_olwnp")
draw_pass_1 = SubResource("SphereMesh_t4p7o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Bar Spot 3"]
visible = false
mesh = SubResource("CylinderMesh_t6k5e")

[node name="Farm House" type="MeshInstance3D" parent="."]
transform = Transform3D(26.2354, 0, 0, 0, 18.6289, 0, 0, 0, 27.84, 0, 5.26637, -196.086)
mesh = SubResource("BoxMesh_t6k5e")

[node name="House Roof" type="MeshInstance3D" parent="Farm House"]
transform = Transform3D(1.4, 0, 0, 0, 1, 0, 0, 0, 1.175, 0, 1.00293, 0)
mesh = SubResource("PrismMesh_jkod3")

[node name="StaticBody3D" type="StaticBody3D" parent="Farm House"]
visible = false
script = ExtResource("8_i3jkc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Farm House/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_niauf")

[node name="Plant Pickup" type="StaticBody3D" parent="."]
transform = Transform3D(2.45, 0, 0, 0, 2.45, 0, 0, 0, 2.45, 11.2781, 1.75492, 7.76763)
script = ExtResource("9_t21en")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Plant Pickup"]
mesh = SubResource("BoxMesh_jkod3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plant Pickup"]
shape = SubResource("BoxShape3D_8oh8j")

[node name="Leaf Bed" parent="." instance=ExtResource("10_cgwd4")]
transform = Transform3D(-1, 0, 0, 0, 1, 0, 0, 0, 1, 8.70619, 0.517619, -118.304)

[node name="Trees" type="Node3D" parent="."]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 4.10404, 0, 0)

[node name="Tree1" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.799863, 0.0148135, 0, -0.0148135, 0.799863, 0, 0, 0, 0.8, -30.5085, 1.5, -81.6285)

[node name="Tree2" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -32.9589, 1.5, -52.2427)

[node name="Tree3" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.799839, 0, 0.016042, 0, 0.8, 0, -0.016042, 0, 0.799839, -24.3777, 1.5, -19.2964)

[node name="Tree4" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -28.4669, 1.5, -104.144)

[node name="Tree5" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -32.9589, 1.5, -128.984)

[node name="Tree6" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -32.9589, 1.5, 2.39375)

[node name="Tree7" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -25.4838, 1.5, -158.757)

[node name="Tree8" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.799863, 0.0148135, 0, -0.0148135, 0.799863, 0, 0, 0, 0.8, 22.2543, 1.5, -81.6285)

[node name="Tree9" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 19.8039, 1.5, -52.2427)

[node name="Tree10" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.799839, 0, 0.016042, 0, 0.8, 0, -0.016042, 0, 0.799839, 28.3851, 1.5, -19.2964)

[node name="Tree11" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 24.2959, 1.5, -104.144)

[node name="Tree12" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 19.8039, 1.5, -128.984)

[node name="Tree13" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 19.8039, 1.5, 2.39375)

[node name="Tree14" parent="Trees" instance=ExtResource("11_x7gld")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 27.2791, 1.5, -158.757)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1ldu7")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -93.9186)
collision_mask = 3

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(26, 0, 0, 0, 1, 0, 0, 0, 217, 0, 0, 0)
mesh = SubResource("BoxMesh_0ssrf")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
shape = SubResource("BoxShape3D_2e8v6")

[node name="enemies" type="Node" parent="."]

[node name="SmallKaiju" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3663, -38.9378)

[node name="SmallKaiju2" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.40979, 2.3663, -41.4916)

[node name="SmallKaiju3" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.80951, 2.3663, -45.9137)

[node name="SmallKaiju4" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.80951, 2.3663, -27.8411)

[node name="SmallKaiju5" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.95581, 2.3663, -27.8411)

[node name="SmallKaiju6" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.95581, 2.3663, -24.1801)

[node name="SmallKaiju7" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.236898, 2.3663, -24.1801)

[node name="SmallKaiju8" parent="enemies" instance=ExtResource("12_h5v8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.81928, 2.3663, -31.5053)

[node name="Killbox" type="Area3D" parent="."]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, -1.651, -100)
collision_mask = 3
script = ExtResource("13_60fbq")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Killbox"]
shape = SubResource("BoxShape3D_tnacl")

[node name="AerialDebugCam" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.0884075, 0.996084, 0, -0.996084, -0.0884075, 0, 19.6913, -4.4181)
current = true
fov = 100.0

[node name="StartCombat" parent="." instance=ExtResource("14_y1ygp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.710213, 0.5, -32.172)

[node name="CollisionShape3D" parent="StartCombat" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4.59302)
shape = SubResource("BoxShape3D_xcm3i")

[node name="Seeds" type="Node" parent="."]

[node name="Seed" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.0223, 0.6, -16.371)

[node name="Seed2" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.30203, 0.6, -18.2671)

[node name="Seed3" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.32021, 0.6, -18.2671)

[node name="Seed4" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.32021, 0.6, -14.1744)

[node name="Seed5" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.80212, 0.6, -12.1419)

[node name="Seed6" parent="Seeds" instance=ExtResource("15_xcm3i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.404222, 0.6, -12.1419)

[connection signal="body_shape_entered" from="Bar Spot 1" to="Player" method="_on_bar_spot_1_body_shape_entered"]
[connection signal="body_shape_exited" from="Bar Spot 1" to="Player" method="_on_bar_spot_1_body_shape_exited"]
[connection signal="body_shape_entered" from="Bar Spot 2" to="Player" method="_on_bar_spot_2_body_shape_entered"]
[connection signal="body_shape_exited" from="Bar Spot 2" to="Player" method="_on_bar_spot_2_body_shape_exited"]
[connection signal="body_shape_entered" from="Bar Spot 3" to="Player" method="_on_bar_spot_3_body_shape_entered"]
[connection signal="body_shape_exited" from="Bar Spot 3" to="Player" method="_on_bar_spot_3_body_shape_exited"]

[editable path="Player"]
[editable path="Player/MeshParent/Farm/Farm1/sapling1"]
[editable path="Player/MeshParent/Farm/Farm2/sapling2"]
[editable path="Player/MeshParent/Farm/Farm3/sapling3"]
[editable path="Player/MeshParent/Farm/Farm4/sapling4"]
[editable path="Player/CameraPivot/UI/PauseMenu"]
[editable path="Player/CameraPivot/Lose Screen"]
[editable path="StartCombat"]
